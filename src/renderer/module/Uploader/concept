Какая-то штука, которая в БД позволит записывать такие значение, которые можно
будет использовать для галлерери.
Например, в БД будут храниться объекты вида:

// images
{
  id: 'ts3',
  type: 'image',
  name: 'shaesnowts011613-p01_101.jpg',
  src: ts4,
  width: 2001,
  height: 3000,
},

// catalogs
{
  type: 'catalog',
  slug: 'nubiles-2',
  title: 'nubiles 2',
  content: s2Images.map((it) => it.id),
}


Глобально, систему можно будет разделить на следующие части:
// images source,
// uploaded image info source
// image viewer
Это, если во viewer нужно будет напряму вставлять изображение. Объект изображения.
Если там будет только ссылка, через которую каким-то магическим образом можно
будет отобразить изображение, то image source не нужен. Вернее, его не нужно
описывать в коде.

image source + юайная часть, которая позволяет по той информации (сейчас - по ссылке)
вывести нужное изображение на экран.
т.е. это можно единым модулем представить
// ???
//   ImageSource
//   ImageViewer
И image info здесь - интерфейс общения source'a и viewer'а. Т.е. тоже часть этой схемы.
Тоже часть модуля.

ImageSource {
  getReactImage(info: IImageInfo): React.Element;
}

ServerImageSource {
  getReactImage(url: string) {
    return <img src={url} />;
  }
}

Если, всё-таки, обстрогировоца от img. То можно функцию создать, которая будет
преобразовывать что-то в img или любой другой react-элемент. Что-то здесь может
быть получено асинхронно, а вот сам элемент создаётся синхронно.
Т.е. это reactNodeCreator(...): React.Element
Т.е. через image source получаем асинхронно какие-то данные.
Затем в reactNodeCreator'е эти данные преобразовываем в реакт-элемент.

Например, цепочка такая:
- View передаёт в react элемент-изображение
- Этот элемент создан в reactNodeCreator(..)
- Данные для его создания получены в ImageSource
- А данные для ImageSource получены в ImageInfoSource

const imageInfo = await imageInfoSource.getSomeImages(); // это сервис сейчас
const image = await imageSource.get(imageInfo);
const imageNode = reactNodeCreator.create(image);
return <div>{imageNode}</div>



Тестовые данные можно уже перенести в базу данных и использовать их для отображения.
А для начала ещё можно связать тестовые с реальным расположением файлов. Ну, для
того, чтобы это потом просто перенести в БД.

А потом - можно будет заняться системой заполнения базы.

Тесты - лучше попробую не сразу. Уже после того, как всё готово, весь (пробный?)
флоу. Может потом какие-то поля буду добавлять или ещё что, вот перед этим - напишу
тесты. Ну, сейчас такая идея так сделать.


Storage. C ним работает и gallery, и uploader. Он позволяет сохранять и извлекать
данные. Пока создам просто класс / объект с элементарным интерфейсом. Пока можно
будет только получать данные.


Можно будет ещё переименовать Gallery, Storage, Uploader в, например,
feature/Gallery/Read    (Gallery)
feature/Gallery/Write   (Uploader)
feature/Gallery/Data    (Storage)
Gallery - не только read. Там и update есть. Да и delete тоже (может быть; ну
скорее всего - да). В Uploader'е - да, только write.
Ок. Тогда, всё-таки: gallery, uploader и storage.


Пока ещё не определился как оно в UI. Нужно как-то загружать изображения, передавать ссылки на них.
Можно, допустим, добавлять папки. Можно рекурсивно. Через нативный диалог выбора
файла / папки. Затем можно создавать коллекции из этих папок.
Можно - сразу создавать коллекцию из папки / выбранных файлов.
Можно ещё так. Экран создания коллекции. Заполняем название коллекции и добавляем
в неё файлы: перестаскиванием, нативным диалогом, либо даже из других коллекций.
Ещё и редактирование коллекции не помешает. Редактирование названия, редактирование
содержимого. Содержимое можно редактировать во время просмотра, по идее.
А вот название - как-то отдельно. Вариант - контекстное меню на названии коллекции.
Если ещё будет список коллекций с обложками, то для него - можно выбирать обложку
при создании (или и после него).

Мне точно нужно - как-то создавать коллекции, как-то перетаскивать файлы в приложение.
Вернее, регистрировать файлы в приложении в коллекциях.
В общем, экран создания коллекции - вполне вариант. Можно пока его сделать, а
далее - видно будет.

Ок. Если экран создания коллекции.
- Пока просто добавить его в общее меню.
- На экране есть поле для названия коллекции.
- Ещё есть поле для перетаскивания.
  Перетащить можно папку - добавятся все файлы из неё и из подпапок.
  Перетащить можно файлы.
  Можно перетащить список файлов и папок.
  При нажатии на поле - нативный диалог выбора файлов / папок.
- Есть список файлов, которые на данный момент в коллекции.
